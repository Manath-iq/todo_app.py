<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <title>ToDo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      body { max-width: 700px; margin: 2rem auto; font-family: system-ui, sans-serif; }
      h1 { margin-bottom: .5rem; }
      form { display: flex; gap: .5rem; margin: 1rem 0; }
      input[type="text"] { flex: 1; padding: .5rem; }
      button { padding: .5rem 1rem; cursor: pointer; }
      ul { padding-left: 1.2rem; }
      li { display: flex; align-items: center; gap: .5rem; margin: .3rem 0; }
      .done { text-decoration: line-through; opacity: .7; }
    </style>
  </head>
  <body>
    <h1>ÐœÐ¾Ð¸ Ð·Ð°Ð´Ð°Ñ‡Ð¸</h1>

    <form method="post">
      <input name="title" type="text" placeholder="ÐÐ¾Ð²Ð°Ñ Ð·Ð°Ð´Ð°Ñ‡Ð°..." required />
      <button type="submit">Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ</button>
    </form>

    {% if tasks %}
      <ul>
        {% for t in tasks %}
          <li>
            <form method="post" action="{{ url_for('toggle', task_id=t.id) }}" style="display:inline">
              <button title="ÐžÑ‚Ð¼ÐµÑ‚Ð¸Ñ‚ÑŒ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð½Ð¾Ð¹/Ð½Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð½Ð¾Ð¹">âœ“</button>
            </form>
            <span class="{{ 'done' if t.done }}">{{ t.title }}</span>
            <form method="post" action="{{ url_for('delete', task_id=t.id) }}" style="display:inline;margin-left:auto">
              <button title="Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ">âœ•</button>
            </form>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>ÐŸÐ¾ÐºÐ° Ð·Ð°Ð´Ð°Ñ‡ Ð½ÐµÑ‚ â€” Ð´Ð¾Ð±Ð°Ð²ÑŒ Ð¿ÐµÑ€Ð²ÑƒÑŽ Ð²Ñ‹ÑˆÐµ ðŸ‘†</p>
    {% endif %}
  </body>
</html>
